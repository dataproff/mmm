@startuml
!theme plain
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 13

' Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
skinparam rectangle {
    BackgroundColor #FFFFFF
    BorderColor #2C3E50
    BorderThickness 2
    roundCorner 15
    shadowing true
}

skinparam arrow {
    Color #2C3E50
    Thickness 3
}

' Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
title <size:24><b>Marketing Mix Modeling Platform</b>\n<size:16>End-to-End Data & Analytics Pipeline

' ==================== DATA SOURCES ====================
package "<size:16><b>ğŸ“Š Data Sources</b>" as sources #E8F4F8 {
    rectangle "<b>ğŸ’° Marketing Spend</b>\nGoogle Ads, Facebook\nYandex Direct, TV, Radio" as marketing #FFFFFF
    rectangle "<b>ğŸ’µ Revenue Data</b>\nSales transactions\nE-commerce data" as revenue #FFFFFF
    rectangle "<b>ğŸ“… Calendar Events</b>\nHolidays, Promos\nSeasonality" as calendar #FFFFFF
    rectangle "<b>ğŸ“ˆ Macro Factors</b>\nEconomic indicators\nMarket trends" as macro #FFFFFF
    rectangle "<b>ğŸ‘¥ CRM Data</b>\nCustomer base\nRetention metrics" as crm #FFFFFF

    marketing -[hidden]right-> revenue
    revenue -[hidden]right-> calendar
    calendar -[hidden]right-> macro
    macro -[hidden]right-> crm
}

' ==================== DATA WAREHOUSE ====================
package "<size:16><b>ğŸ—„ï¸ Data Warehouse</b>" as dwh #FFF4E6 {
    rectangle "<b>1ï¸âƒ£ Data Collection</b>\nğŸ“¥ Ingestion from sources\nAPI connections" as collection #FFFFFF
    rectangle "<b>2ï¸âƒ£ Data Cleaning</b>\nğŸ§¹ Remove duplicates\nHandle missing values\nOutlier detection" as cleaning #FFFFFF
    rectangle "<b>3ï¸âƒ£ Data Integration</b>\nğŸ”— Join data sources\nAlign time periods\nStandardize formats" as integration #FFFFFF
    rectangle "<b>4ï¸âƒ£ Data Transformation</b>\nâš™ï¸ Feature engineering\nAggregations\nNormalization" as transformation #FFFFFF

    collection -[hidden]right-> cleaning
    cleaning -[hidden]right-> integration
    integration -[hidden]right-> transformation
}

' ==================== ML ENGINE ====================
package "<size:16><b>ğŸ¤– MMM Machine Learning Engine</b>" as ml #E8F5E9 {
    rectangle "<b>ğŸ¯ Feature Selection</b>\nSelect relevant factors\nCorrelation analysis\nDimensionality reduction" as features #FFFFFF
    rectangle "<b>ğŸ”¬ Model Training</b>\nSaturation curves\nAdstock effects\nBayesian optimization" as training #FFFFFF
    rectangle "<b>âœ… Model Validation</b>\nCross-validation\nRÂ² score, MAPE\nResidual analysis" as validation #FFFFFF

    features -[hidden]right-> training
    training -[hidden]right-> validation
}

' ==================== INTERACTIVE DASHBOARD ====================
package "<size:16><b>ğŸ“± Interactive Dashboard</b>" as dashboard #F3E5F5 {
    rectangle "<b>ğŸ’¼ Budget Planning</b>\nOptimal allocation\nScenario comparison\nTarget optimization" as budget #FFFFFF
    rectangle "<b>ğŸ“Š Saturation Analysis</b>\nChannel efficiency\nDiminishing returns\nInflection points" as saturation #FFFFFF
    rectangle "<b>ğŸ“… Context Calendar</b>\nEvent impact\nMultipliers\nSeasonality" as context #FFFFFF

    budget -[hidden]right-> saturation
    saturation -[hidden]right-> context
}

' ==================== BUSINESS INSIGHTS ====================
package "<size:16><b>ğŸ’¡ Business Insights</b>" as insights #FFEBEE {
    rectangle "<b>ğŸ“Œ Key Outcomes</b>\n\nâœ“ <b>Optimal Budget</b>\n  Channel-specific allocation\n\nâœ“ <b>Revenue Forecast</b>\n  Predicted returns\n\nâœ“ <b>Channel ROI</b>\n  Performance ranking\n\nâœ“ <b>What-If Scenarios</b>\n  Budget simulations" as outcomes #FFFFFF
}

' ==================== CONNECTIONS ====================
' Main flow arrows (invisible - same color as background)
sources -down[#FFFFFF,thickness=4]-> dwh
dwh -down[#FFFFFF,thickness=4]-> ml
ml -down[#FFFFFF,thickness=4]-> dashboard

' Position Business Insights to the right of dashboard
dashboard -[hidden]right-> outcomes

' Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°
legend bottom left
  <b>Process Flow</b>
  ----
  Data flows from top to bottom
  Each stage transforms and enriches data
  Business insights generated throughout
endlegend

@enduml
